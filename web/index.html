<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>ABA UI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<main>
  <h1>ABA Generator</h1>
  <p class="small">
    Backend: <code id="api"></code> —
    <a id="docs" target="_blank" rel="noopener">/docs</a> —
    Statut: <span id="health">...</span>
  </p>

  <!-- FORMULAIRE -->
  <section class="card">
    <h3 class="section-title">Données du framework</h3>

    <!-- L -->
    <div class="field">
      <div class="label-row">
        <label for="literals">L (littéraux)</label>
        <span class="hint">ex : a,b,c,q,p,r,s,t</span>
      </div>
      <input type="text" id="literals" placeholder="a,b,c,q,p,r,s,t">
    </div>

    <!-- A -->
    <div class="field">
      <div class="label-row">
        <label for="assumptions">A (hypothèses)</label>
        <span class="hint">ex : a,b,c</span>
      </div>
      <input type="text" id="assumptions" placeholder="a,b,c">
    </div>

    <!-- Contraires -->
    <div class="field">
      <div class="label-row">
        <label>Contraires C(x)</label>
        <span class="hint">ex : C(a)=r, C(b)=s, C(c)=t</span>
      </div>
      <table class="grid-table contraries-table" id="contraries-table">
        <thead><tr><th>Hypothèse</th><th>Contraire C(·)</th><th></th></tr></thead>
        <tbody id="contraries-body"></tbody>
      </table>
      <button class="secondary" id="add-contrary">+ Ajouter un contraire</button>
    </div>

    <!-- Règles -->
    <div class="field">
      <div class="label-row">
        <label>Règles</label>
        <span class="hint">ex : <code>p &lt;- q,a</code> • Fait : <code>q &lt;-</code> (body vide)</span>
      </div>
      <table class="grid-table rules-table" id="rules-table">
        <thead><tr><th>Head</th><th>Body (virgules)</th><th></th></tr></thead>
        <tbody id="rules-body"></tbody>
      </table>
      <button class="secondary" id="add-rule">+ Ajouter une règle</button>
    </div>

    <!-- PREF -->
    <div class="field">
      <div class="label-row">
        <label for="pref">PREF (texte)</label>
        <span class="hint">ex : <code>a,b &gt; c &gt; d</code> • laisse vide si aucune préférence</span>
      </div>
      <input type="text" id="pref" placeholder="a > b">
    </div>

    <div class="row">
      <button id="btn-run">Exécuter</button>
      <button class="secondary" id="btn-sample">Charger l'exemple</button>
      <button class="secondary" id="btn-clear">Effacer</button>
      <span class="small" id="status-msg"></span>
    </div>
  </section>

  <!-- APERÇU JSON (optionnel) -->
  <section class="card">
    <div class="row between">
      <h3 class="section-title">Aperçu du JSON envoyé</h3>
      <button class="secondary" id="btn-toggle-preview">Afficher</button>
    </div>
    <div id="preview-section" class="hidden">
      <pre id="preview">—</pre>
    </div>
  </section>

  <!-- RÉSULTAT BACKEND (optionnel) -->
  <section class="card">
    <div class="row between">
      <h3 class="section-title">Résultat (backend)</h3>
      <button class="secondary" id="btn-toggle-result">Afficher</button>
    </div>
    <div id="result-section" class="hidden">
      <pre id="out">Résultats ici…</pre>
    </div>
  </section>

  <!-- RÉSUMÉ LISIBLE -->
  <section class="card">
    <h3 class="section-title">Résumé</h3>
    <div id="summary"><span class="small">Lance un run pour voir les arguments et attaques.</span></div>
  </section>
</main>

<script src="script.js"></script>
</body>
</html>
